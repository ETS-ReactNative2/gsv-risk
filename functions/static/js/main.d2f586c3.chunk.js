(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(t,e,n){t.exports=n(43)},29:function(t,e){},30:function(t,e,n){},43:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),o=n(3),i=n.n(o),u=(n(29),n(30),n(4)),c=n(5),l=n(7),s=n(6),f=n(2),p=n(20),h=n(21),v=n.n(h),d=n(10),y=n.n(d),m=n(23);function g(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return b(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return i=t.done,t},e:function(t){u=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(u)throw o}}}}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function S(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var a=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(s.a)(this,n)}}var C=function(t){Object(l.a)(n,t);var e=S(n);function n(t){var r;return Object(u.a)(this,n),(r=e.call(this,t)).state={inputChanging:!1},r}return Object(c.a)(n,[{key:"handleTextChange",value:function(t){this.setState({input:t,inputChanging:!0})}},{key:"handleKeyPress",value:function(t,e){"Enter"===t.key&&this.handleTextBlur(e)}},{key:"handleTextBlur",value:function(t){var e=this.props.factor;e.input=t||0===t?t:null,this.props.onFactorInputChange(e),this.setState({input:"",inputChanging:!1})}},{key:"handleSelectChange",value:function(t){var e=this.props.factor;e.input=t.value,this.props.onFactorInputChange(e),this.setState({input:"",inputChanging:!1})}},{key:"handleMenuOpen",value:function(){this.setState({inputChanging:!0})}},{key:"handleMenuClose",value:function(){this.setState({input:"",inputChanging:!1})}},{key:"renderSelectContent",value:function(){var t=this,e=null;if(this.props.factor.input||0===this.props.factor.input){var n,r=g(this.props.factor.options);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.value===this.props.factor.input){e=o;break}}}catch(i){r.e(i)}finally{r.f()}}return a.a.createElement("label",{className:"Factor-label"},a.a.createElement(m.a,{className:"Factor-input Factor-input--select",classNamePrefix:"Select",options:this.props.factor.options,value:e,onMenuOpen:function(){return t.handleMenuOpen()},onMenuClose:function(){return t.handleMenuClose()},onChange:function(e){return t.handleSelectChange(e)}}),a.a.createElement("div",{className:"Factor-prompt"},this.props.factor.prompt))}},{key:"renderNumberContent",value:function(t){var e=this;return a.a.createElement("label",{className:"Factor-label"},a.a.createElement("input",{className:"Factor-input Factor-input--number",type:"number",value:t,onChange:function(t){return e.handleTextChange(t.target.value)},onKeyPress:function(n){return e.handleKeyPress(n,t)},onBlur:function(t){return e.handleTextBlur(t.target.value)}}),a.a.createElement("div",{className:"Factor-prompt"},this.props.factor.prompt))}},{key:"render",value:function(){var t=this.state.inputChanging?this.state.input:this.props.factor.input,e=(this.props.factor.type&&this.props.factor.type,t||0===t?t+"":""),n=this.props.factor.options?this.renderSelectContent():this.renderNumberContent(e);return a.a.createElement("div",{className:"Factor",hasvalue:e?"true":"false",ischanging:this.state.inputChanging+""},n)}}]),n}(a.a.Component);function w(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return k(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return i=t.done,t},e:function(t){u=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(u)throw o}}}}function k(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var j=50,O=.1,E=.5,x=[{id:"transmission",prompt:"Which best describes the type of interactions you'll have?",type:"number",options:[{value:2,label:"Brief outdoor contact",example:"Passing by somone on a sidewalk"},{value:5,label:"Brief indoor contact",example:"Slipping by somone in a store aisle"},{value:10,label:"Brief close contact",example:"Sharing a small elevator"},{value:25,label:"Extended close contact",example:"Having dinner with someone"},{value:50,label:"Significant physical contact",example:"Repeated hugging, shoulder to shoulder, etc"}],default:5,updateDefault:!1,input:null},{id:"interactions",prompt:"How many people will you interact with?",meta:"[INPUT] interactions",type:"number",default:15,updateDefault:!1,input:null},{id:"masks",prompt:"What percent of people will be wearing masks?",meta:"[INPUT]% of people wearing masks",type:"number",default:100,updateDefault:!1,input:null},{id:"infected",prompt:"What percent of people in your area are infected?",meta:"[INPUT]% infected",type:"number",default:1.2,updateDefault:!0,input:null}];function F(t){var e,n={},r={},a=w(t);try{for(a.s();!(e=a.n()).done;){var o=e.value;n[o.id]=o.default,r[o.id]=o.input||0===o.input?o.input:o.default}}catch(f){a.e(f)}finally{a.f()}var i=function(t){var e=1-(t.transmission/100*(1-t.masks/100)+E*t.transmission/100*(t.masks/100))*(t.infected/100);return 1-Math.pow(e,t.interactions)},u=i(n),c=i(r),l=Math.log(1-c)/Math.log(1-u),s=Math.min(l||l,j);return Math.max(s,O)}function R(t){if("number"===t.type){var e=parseFloat(t.input);if(e||0===e){if(t.options){var n,r=w(t.options);try{for(r.s();!(n=r.n()).done;){if(n.value.value===e)return e}}catch(a){r.e(a)}finally{r.f()}return null}return e}return null}return t.input?t.input:null}function M(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var a=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(s.a)(this,n)}}var N=function(t){Object(l.a)(n,t);var e=M(n);function n(t){var r;return Object(u.a)(this,n),(r=e.call(this,t)).state={gsv:1},r}return Object(c.a)(n,[{key:"fractionToColor",value:function(t){return"hsl(".concat(-114*t+123,", 100%, 43%)")}},{key:"gsvToColor",value:function(t){var e=this.calculateLogFraction(t,25);return this.fractionToColor(e)}},{key:"calculateLogFraction",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j;return Math.log10(Math.min(t+1,e))/Math.log10(e)}},{key:"render",value:function(){var t=this.props.gsv||this.state.gsv,e="".concat(100*this.calculateLogFraction(t),"%"),n=this.gsvToColor(t);return a.a.createElement("div",{className:"Results"},a.a.createElement("div",{className:"Results-bar",style:{height:e,backgroundColor:n}},a.a.createElement("div",{className:"Results-num"},function(t){return 50===t?"".concat(t,"+"):.1===t?"< ".concat(t):t<5?t.toFixed(1):t.toFixed(0)}(t))))}}]),n}(a.a.Component);function I(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return A(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return i=t.done,t},e:function(t){u=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(u)throw o}}}}function A(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function T(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var a=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(s.a)(this,n)}}var D=function(t){Object(l.a)(n,t);var e=T(n);function n(t){var r;Object(u.a)(this,n),r=e.call(this,t);var a,o=new y.a,i=o.query(!0),c=x,l=I(c);try{for(l.s();!(a=l.n()).done;){var s=a.value;o.hasQuery(s.id)&&(s.input=i[s.id],s.input=R(s),null===s.input&&o.removeQuery(s.id))}}catch(f){l.e(f)}finally{l.f()}return window.history.replaceState(null,"GSV Risk",o.toString()),r.state={factors:c},r}return Object(c.a)(n,[{key:"handleFactorInputChange",value:function(t){var e,n=v.a.cloneDeep(this.state.factors),r=I(n);try{for(r.s();!(e=r.n()).done;){var a=e.value;if(a.id===t.id){var o=R(t);a.input=o,t.updateDefault&&(o||0===o)&&(a.default=o);var i=new y.a;i.removeQuery(a.id),(a.input||0===a.input)&&i.addQuery(a.id,encodeURIComponent(a.input)),window.history.pushState(null,"GSV Risk",i.toString());break}}}catch(u){r.e(u)}finally{r.f()}this.setState({factors:n})}},{key:"renderFactors",value:function(){var t,e=this,n=[],r=I(this.state.factors);try{for(r.s();!(t=r.n()).done;){var o=t.value;if(n.push(a.a.createElement(C,{factor:o,key:o.id,onFactorInputChange:function(t){return e.handleFactorInputChange(t)}})),null===o.input||void 0===o.input)break}}catch(i){r.e(i)}finally{r.f()}return n}},{key:"render",value:function(){return a.a.createElement("div",{className:"Main"},a.a.createElement("div",{className:"Main-container l-container"},a.a.createElement("div",{className:"Main-left"},a.a.createElement(p.CSSTransitionGroup,{transitionName:"example",transitionEnterTimeout:500,transitionLeaveTimeout:300},this.renderFactors())),a.a.createElement("div",{className:"Main-right"},a.a.createElement(N,{gsv:F(this.state.factors)}))))}}]),n}(a.a.Component);i.a.render(a.a.createElement(D,null),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.d2f586c3.chunk.js.map