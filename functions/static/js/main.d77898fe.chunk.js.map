{"version":3,"sources":["assets/gsv-risk.svg","js/components/Factor.js","js/util.js","js/components/Results.js","js/components/Main.js","index.js"],"names":["module","exports","__webpack_require__","p","Input","props","_this","Object","classCallCheck","this","_super","call","state","inputChanging","value","setState","input","e","key","handleTextBlur","factor","onFactorInputChange","_this2","_step","_iterator","_createForOfIteratorHelper","options","s","n","done","option","err","f","react_default","a","createElement","className","react_select_browser_esm","classNamePrefix","onMenuOpen","handleMenuOpen","onMenuClose","handleMenuClose","onChange","values","handleSelectChange","prompt","_this3","type","handleTextChange","target","onKeyPress","handleKeyPress","onBlur","content","renderSelectContent","renderNumberContent","hasvalue","ischanging","React","Component","MAX_GSV","MIN_GSV","MASK_HELP_RATIO","RED_GSV","RED_HUE","GREEN_HUE","INITIAL_FACTORS","id","label","example","default","updateDefault","meta","calculateGsv","factors","baseFactorValues","compareFactorValues","util_createForOfIteratorHelper","resultFromFactorValues","factorValues","inner","transmission","masks","infected","Math","pow","interactions","baseResult","compareResult","gsv","log","cleanValue","min","max","getInputFromFactor","parsedVal","parseFloat","_step2","_iterator2","calculateLogFraction","maxGsv","arguments","length","undefined","log10","getRandomInt","floor","random","Results","viruses","nextVirusId","tick","timerID","setInterval","updateCoronas","gsvToCoronaHSLObject","h","l","frac","_","cloneDeep","toRemove","round","remove","v","lat","Results_createForOfIteratorHelper","virus","color","newVirus","lng","size","push","xmlns","version","width","height","viewBox","preserveAspectRatio","transform","fill","concat","stroke","d","style","bottom","left","transitionDuration","renderVirusSVG","heightPercent","gsvToColor","backgroundColor","toFixed","getGsvText","renderViruses","Main","uri","URI","qParams","query","Main_createForOfIteratorHelper","hasQuery","removeQuery","window","history","replaceState","toString","curr","addQuery","encodeURIComponent","pushState","_step3","_iterator3","Factor_Input","handleFactorInputChange","src","logo","alt","react_transition_group","transitionName","transitionEnterTimeout","transitionLeaveTimeout","renderFactors","Results_Results","ReactDOM","render","Main_Main","document","getElementById"],"mappings":"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","file":"static/js/main.d77898fe.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/gsv-risk.1ebd4893.svg\";","import React from 'react';\nimport Select from 'react-select';\n\nexport default class Input extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      inputChanging: false\n    };\n  }\n\n  handleTextChange(value) {\n    this.setState({\n      input: value,\n      inputChanging: true\n    });\n  }\n\n  handleKeyPress(e, value) {\n    if (e.key === 'Enter') {\n      this.handleTextBlur(value);\n    }\n  }\n\n  handleTextBlur(value) {\n    let factor = this.props.factor;\n    factor.input = value || value === 0 ? value : null;\n    this.props.onFactorInputChange(factor);\n    this.setState({\n      input: '',\n      inputChanging: false\n    });\n  }\n\n  handleSelectChange(value) {\n    let factor = this.props.factor;\n    factor.input = value.value;\n    this.props.onFactorInputChange(factor);\n    this.setState({\n      input: '',\n      inputChanging: false\n    });\n  }\n\n  handleMenuOpen() {\n    this.setState({\n      inputChanging: true\n    });\n  }\n\n  handleMenuClose() {\n    this.setState({\n      input: '',\n      inputChanging: false\n    });\n  }\n\n  renderSelectContent() {\n    let value = null;\n    if (this.props.factor.input || this.props.factor.input === 0) {\n      for (const option of this.props.factor.options) {\n        if (option.value === this.props.factor.input) {\n          value = option;\n          break;\n        }\n      }\n    }\n    return (\n      <label className=\"Factor-label\">\n        <Select className=\"Factor-input Factor-input--select\" classNamePrefix=\"Select\"\n                options={this.props.factor.options} value={value}\n                onMenuOpen={() => this.handleMenuOpen()} onMenuClose={() => this.handleMenuClose()}\n                onChange={(values) => this.handleSelectChange(values)} />\n        <div className=\"Factor-prompt\">\n          {this.props.factor.prompt}\n        </div>\n      </label>\n    )\n  }\n\n  renderNumberContent(value) {\n    return (\n      <label className=\"Factor-label\">\n        <input className={`Factor-input Factor-input--number`}\n              type=\"number\" value={value}\n              onChange={(e) => this.handleTextChange(e.target.value)}\n              onKeyPress={(e) => this.handleKeyPress(e, value)}\n              onBlur={(e) => this.handleTextBlur(e.target.value)}>\n        </input>\n        <div className=\"Factor-prompt\">\n          {this.props.factor.prompt}\n        </div>\n      </label>\n    )\n  }\n\n  render() {\n    const input = this.state.inputChanging ? this.state.input : this.props.factor.input;\n    const type = this.props.factor.type ? this.props.factor.type : 'text';\n    const value = input || input === 0 ? input + '' : '';\n\n    const content = this.props.factor.options ? this.renderSelectContent() : this.renderNumberContent(value);\n    return (\n      <div className=\"Factor\" hasvalue={value ? 'true' : 'false'} ischanging={this.state.inputChanging + ''}>\n        {content}\n      </div>\n    );\n  }\n}\n","export const MAX_GSV = 50;\nexport const MIN_GSV = 0.1;\n\nexport const MASK_HELP_RATIO = 0.5;\n\nexport const RED_GSV = 25; // GSV value at which point bar color should be fully red\nexport const RED_HUE = 9;\nexport const GREEN_HUE = 123;\n\nexport const INITIAL_FACTORS = [\n  {\n    id: 'transmission',\n    prompt: 'Which best describes the type of interactions you\\'ll have?',\n    type: 'number',\n    options: [\n      {\n        'value': 2,\n        'label': 'Brief outdoor contact',\n        'example': 'Passing by somone on a sidewalk'\n      },\n      {\n        'value': 5,\n        'label': 'Brief indoor contact',\n        'example': 'Slipping by somone in a store aisle'\n      },\n      {\n        'value': 10,\n        'label': 'Brief close contact',\n        'example': 'Sharing a small elevator'\n      },\n      {\n        'value': 25,\n        'label': 'Extended close contact',\n        'example': 'Having dinner with someone'\n      },\n      {\n        'value': 50,\n        'label': 'Significant physical contact',\n        'example': 'Repeated hugging, shoulder to shoulder, etc'\n      }\n    ],\n    default: 5,\n    updateDefault: false,\n    input: null\n  },\n  // {\n  //   id: 'transmission',\n  //   prompt: 'What is the risk of transmission?',\n  //   meta: '[INPUT]% transmissibility',\n  //   type: 'number',\n  //   default: 5,\n  //   updateDefault: false,\n  //   input: null\n  // },\n  {\n    id: 'interactions',\n    prompt: 'How many people will you interact with?',\n    meta: '[INPUT] interactions',\n    type: 'number',\n    default: 15,\n    updateDefault: false,\n    input: null\n  },\n  {\n    id: 'masks',\n    prompt: 'What percent of people will be wearing masks?',\n    meta: '[INPUT]% of people wearing masks',\n    type: 'number',\n    default: 100,\n    updateDefault: false,\n    input: null\n  },\n  {\n    id: 'infected',\n    prompt: 'What percent of people in your area are infected?',\n    meta: '[INPUT]% infected',\n    type: 'number',\n    default: 1.2,\n    updateDefault: true,\n    input: null\n  }\n]\n\nexport function calculateGsv(factors) {\n  let baseFactorValues = {};\n  let compareFactorValues = {};\n  for (const factor of factors) {\n    baseFactorValues[factor.id] = factor.default;\n    compareFactorValues[factor.id] = factor.input || factor.input === 0 ? factor.input : factor.default;\n  }\n\n  const resultFromFactorValues = (factorValues) => {\n    const transmit = (factorValues.transmission / 100) * (1 - (factorValues.masks / 100)) + (MASK_HELP_RATIO * factorValues.transmission / 100) * (factorValues.masks / 100);\n    const inner = 1 - (transmit * (factorValues.infected / 100));\n    const result = 1 - (inner ** factorValues.interactions);\n    return result;\n  }\n\n  const baseResult = resultFromFactorValues(baseFactorValues);\n  const compareResult = resultFromFactorValues(compareFactorValues);\n\n  const gsv = Math.log(1 - compareResult) / Math.log(1 - baseResult);\n\n  let cleanValue = Math.min(gsv || gsv, MAX_GSV);\n  return Math.max(cleanValue, MIN_GSV);\n}\n\nexport function getInputFromFactor(factor) {\n  if (factor.type === 'number') {\n    const parsedVal = parseFloat(factor.input);\n    if (parsedVal || parsedVal === 0) {\n      if (factor.options) {\n        for (const option of factor.options) {\n          if (option.value === parsedVal) {\n            return parsedVal;\n          }\n        }\n        return null;\n      } else {\n        return parsedVal;\n      }\n    } else {\n      return null;\n    }\n  } else if (factor.input) {\n    return factor.input;\n  }\n  return null;\n}\n\nexport function getGsvText(gsv) {\n  if (gsv === 50) {\n    return `${gsv}+`;\n  } else if (gsv === 0.1) {\n    return `< ${gsv}`;\n  } else if (gsv < 5) {\n    return gsv.toFixed(1);\n  } else {\n    return gsv.toFixed(0);\n  }\n}\n\nexport function calculateLogFraction(gsv, maxGsv = MAX_GSV) {\n  return Math.log10(Math.min(gsv + 1, maxGsv)) / Math.log10(maxGsv);\n}\n\nexport function gsvToColor(gsv) {\n  let frac = calculateLogFraction(gsv, RED_GSV);\n  var hue = (frac * (RED_HUE - GREEN_HUE)) + GREEN_HUE;\n  return `hsl(${hue}, 100%, 43%)`;\n}\n\nexport function getRandomInt(max) {\n  return Math.floor(Math.random() * Math.floor(max));;\n}\n","import React from 'react';\nimport _ from 'lodash';\n\nimport {\n  getGsvText, calculateLogFraction, gsvToColor, getRandomInt,\n  RED_GSV, RED_HUE, GREEN_HUE\n } from '../util.js';\n\nconst CORONA_ICON = `\n  <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.0\" width=\"900.000000pt\" height=\"900.000000pt\" viewBox=\"0 0 900.000000 900.000000\" preserveAspectRatio=\"xMidYMid meet\">\n    <g transform=\"translate(0.000000,900.000000) scale(0.100000,-0.100000)\" <!-- ::COLOR:: --> stroke=\"none\">\n        <path d=\"M3415 8604 c-123 -17 -336 -90 -504 -173 -172 -84 -241 -187 -197 -292 26 -61 86 -97 186 -109 172 -22 316 -172 374 -390 37 -140 49 -178 75 -247 33 -85 33 -86 -69 -128 -36 -15 -69 -31 -74 -36 -19 -18 -56 -10 -65 14 -14 36 -72 90 -119 111 -41 19 -45 19 -100 2 -140 -43 -271 -135 -312 -221 -20 -40 -21 -51 -11 -90 6 -24 11 -48 11 -54 0 -6 -33 -32 -72 -57 -40 -26 -84 -58 -98 -70 -99 -90 -126 -114 -135 -114 -13 0 -136 126 -189 193 -51 65 -98 134 -120 177 -20 39 -56 196 -56 242 0 17 -10 62 -21 100 -16 52 -32 81 -60 109 -36 36 -43 39 -97 39 -166 0 -457 -177 -565 -344 -71 -109 -85 -233 -36 -331 37 -73 63 -83 165 -62 113 23 204 22 252 -3 73 -40 382 -349 382 -383 0 -7 -15 -28 -33 -47 -63 -69 -134 -157 -212 -260 -43 -58 -81 -109 -85 -113 -9 -11 -56 10 -102 45 -49 38 -77 100 -88 194 -7 64 -13 82 -31 97 -57 46 -189 -14 -279 -126 -78 -96 -150 -268 -150 -356 0 -50 40 -107 81 -116 34 -8 121 0 183 17 45 11 108 -2 164 -35 29 -17 32 -23 26 -51 -3 -17 -12 -38 -20 -47 -8 -8 -14 -20 -14 -25 0 -8 -47 -112 -72 -158 -6 -11 -14 -31 -18 -45 -5 -14 -18 -51 -30 -81 -47 -122 -52 -136 -60 -170 -4 -19 -13 -48 -19 -65 -6 -16 -13 -42 -16 -56 -2 -15 -11 -29 -19 -32 -8 -3 -56 3 -107 14 -50 10 -104 19 -118 19 -39 0 -124 32 -162 62 -19 14 -41 41 -50 59 -9 19 -31 64 -49 101 -35 74 -75 108 -127 108 -58 0 -170 -102 -209 -190 -64 -144 -91 -349 -61 -461 23 -88 93 -149 169 -149 40 0 119 41 182 94 77 66 126 96 155 96 25 0 94 -21 129 -39 9 -5 36 -16 60 -25 99 -37 122 -50 122 -65 0 -9 -7 -65 -16 -125 -13 -88 -15 -164 -11 -400 3 -160 9 -308 13 -330 6 -37 6 -38 -17 -31 -13 5 -58 33 -99 64 -98 73 -125 88 -181 96 -127 19 -199 -50 -244 -233 -40 -166 24 -406 160 -596 103 -144 155 -178 218 -144 12 7 77 66 143 132 67 65 127 117 134 114 7 -2 25 -40 40 -83 15 -44 35 -100 44 -125 9 -25 21 -57 25 -71 5 -14 13 -34 18 -45 6 -10 17 -35 25 -54 9 -19 36 -77 62 -128 44 -90 54 -122 39 -122 -5 -1 -37 -28 -72 -60 -101 -93 -133 -106 -271 -102 -146 3 -202 -10 -241 -57 -39 -48 -44 -81 -23 -169 52 -223 259 -452 407 -452 81 0 147 71 187 203 12 39 29 90 38 112 33 84 140 225 170 225 10 -1 56 -53 105 -119 126 -169 313 -367 474 -504 40 -34 73 -67 73 -74 0 -6 -13 -32 -30 -56 -16 -25 -30 -48 -30 -53 0 -4 -9 -27 -21 -50 -31 -66 -73 -96 -162 -118 -92 -23 -133 -58 -161 -136 -22 -61 -18 -97 21 -176 28 -58 105 -132 163 -156 116 -49 224 -78 289 -78 49 0 112 20 140 44 31 27 61 92 61 135 0 18 -7 61 -17 95 -9 34 -16 100 -17 151 0 75 4 97 22 132 29 53 44 58 90 30 20 -13 44 -27 52 -30 8 -4 29 -16 45 -26 31 -20 275 -142 333 -167 18 -7 47 -20 65 -27 51 -23 110 -45 136 -53 13 -3 39 -13 58 -20 33 -14 33 -15 19 -43 -17 -31 -118 -128 -150 -142 -103 -46 -214 -138 -245 -203 -50 -109 -13 -167 193 -301 173 -112 284 -155 402 -155 153 0 261 56 337 174 29 46 31 56 32 141 0 104 -16 152 -75 225 -72 89 -109 163 -87 177 16 9 80 5 162 -11 83 -17 340 -36 480 -36 127 0 344 16 460 35 164 26 195 28 196 13 3 -37 -4 -87 -17 -117 -8 -18 -14 -40 -14 -47 0 -8 -13 -42 -29 -76 -54 -119 -60 -151 -39 -221 15 -49 88 -123 143 -145 87 -33 217 -26 350 19 17 6 44 15 60 19 85 24 212 86 256 126 19 16 50 49 69 74 34 43 35 46 35 135 -1 106 -18 147 -94 221 -41 41 -208 134 -240 134 -5 0 -13 4 -16 10 -6 10 16 22 195 96 115 48 139 60 280 137 109 59 246 147 394 252 26 19 52 35 56 35 15 0 134 -148 167 -207 46 -81 46 -162 2 -260 -25 -53 -32 -83 -33 -135 -1 -60 2 -70 30 -104 37 -46 113 -86 174 -92 54 -5 174 25 257 64 117 55 245 171 296 268 50 96 60 137 61 256 1 105 -1 118 -22 147 -12 17 -37 39 -55 48 -42 22 -159 55 -195 55 -43 0 -168 44 -213 76 -63 43 -149 136 -149 159 1 11 32 53 71 94 101 106 175 199 317 396 16 22 59 91 96 153 37 61 71 112 75 112 5 0 14 -7 21 -15 7 -8 16 -15 21 -15 31 0 214 -133 278 -203 47 -50 51 -57 91 -134 55 -107 126 -173 187 -173 79 0 253 78 320 145 56 55 131 258 154 418 10 72 10 98 -1 140 -21 81 -42 103 -114 117 -54 10 -68 9 -121 -10 -202 -70 -265 -74 -346 -20 -24 16 -62 42 -84 57 -51 34 -150 83 -168 83 -8 0 -22 9 -32 21 -17 18 -17 24 -6 52 7 18 18 49 23 70 6 21 24 50 41 65 98 86 124 127 151 234 15 61 15 69 0 115 -9 26 -25 59 -36 72 -16 21 -18 35 -13 95 10 117 25 209 37 223 18 22 237 17 323 -7 93 -26 143 -44 157 -58 7 -7 17 -12 23 -12 7 0 31 -14 53 -30 23 -17 45 -30 50 -30 4 0 13 -5 19 -11 7 -7 35 -20 63 -30 49 -17 52 -17 115 3 89 27 126 54 154 113 35 73 52 155 58 283 5 100 3 119 -17 172 -23 61 -56 104 -103 133 -38 25 -142 57 -182 57 -38 0 -101 -43 -168 -116 -30 -32 -68 -60 -100 -74 -47 -21 -61 -22 -152 -15 -55 4 -143 10 -195 14 l-95 6 -12 100 c-6 55 -15 143 -19 195 l-6 95 33 14 c42 18 106 76 127 115 77 142 70 340 -15 455 -72 98 -180 136 -267 95 -41 -20 -62 -14 -77 23 -12 29 -20 49 -64 148 -42 95 -68 146 -98 199 -36 63 -33 84 18 102 79 29 141 45 190 50 45 5 59 1 140 -42 89 -47 91 -47 185 -47 96 0 121 7 186 53 32 23 54 74 54 127 0 63 -23 202 -38 230 -7 12 -12 29 -12 38 0 20 -84 192 -105 215 -8 9 -15 20 -15 24 0 16 -151 205 -210 263 -82 80 -132 101 -206 83 -41 -10 -65 -24 -98 -57 -63 -62 -84 -109 -131 -293 -34 -130 -71 -200 -137 -252 -63 -51 -101 -64 -139 -48 -56 23 -88 122 -52 162 24 27 23 125 -2 164 -45 70 -154 167 -235 209 -33 17 -136 18 -171 2 -10 -5 -25 1 -43 18 -15 14 -72 59 -127 101 -54 41 -99 79 -99 84 0 8 56 97 101 162 10 15 19 29 19 32 0 10 99 151 127 181 67 72 160 125 221 125 43 1 107 35 136 72 70 92 -7 250 -189 389 -33 25 -67 49 -75 52 -8 4 -28 16 -45 27 -115 74 -241 119 -330 119 -130 0 -151 -53 -124 -311 6 -57 17 -120 25 -141 8 -20 14 -52 14 -70 0 -65 -70 -265 -120 -342 -10 -16 -29 -50 -42 -74 -12 -24 -28 -45 -34 -48 -6 -2 -38 9 -70 26 -33 16 -85 41 -117 55 l-57 27 6 69 c9 98 -8 153 -66 211 -69 69 -148 93 -307 93 -119 1 -122 0 -164 -29 -35 -25 -46 -41 -64 -95 l-22 -65 -74 3 c-123 6 -132 13 -118 107 5 33 14 125 18 205 15 225 45 364 93 420 7 9 42 38 78 65 73 55 90 74 108 124 21 60 -13 131 -83 169 -55 30 -148 42 -370 49 -209 5 -223 5 -266 -15 -57 -26 -97 -78 -105 -134 -10 -77 26 -123 118 -148 72 -20 117 -99 118 -205 0 -66 -17 -239 -35 -345 -8 -47 -17 -107 -20 -134 -3 -27 -12 -60 -21 -73 -13 -21 -21 -24 -72 -21 -55 3 -58 4 -74 40 -26 55 -78 78 -173 78 -45 0 -90 -6 -112 -15 -19 -8 -44 -15 -54 -15 -21 0 -89 -56 -89 -74 0 -35 -73 -63 -206 -81 -48 -6 -52 -5 -70 22 -28 42 -54 122 -54 168 0 22 -7 65 -15 95 -8 30 -15 72 -15 93 0 21 -8 52 -17 70 -12 24 -16 58 -16 142 0 108 1 111 45 210 80 180 82 286 6 348 -32 25 -45 29 -114 32 -44 2 -92 1 -109 -1z\" />\n    </g>\n  </svg>\n`;\n\nexport default class Results extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      viruses: [],\n      nextVirusId: 0,\n      tick: 0\n    };\n  }\n\n  componentDidMount() {\n    this.timerID = setInterval(\n      () => this.updateCoronas(),\n      500\n    );\n  }\n\n  updateCoronas() {\n    const gsvToCoronaHSLObject = (gsv) => {\n      const frac = calculateLogFraction(gsv, RED_GSV);\n      var hue = (frac * (RED_HUE - GREEN_HUE)) + GREEN_HUE;\n      return { h: hue, s: 100, l: getRandomInt(100) };\n    }\n\n    const gsv = this.props.gsv;\n    const frac = calculateLogFraction(gsv, RED_GSV);\n    let viruses = _.cloneDeep(this.state.viruses);\n\n    if (viruses.length > (50 * frac)) {\n      const toRemove = 50 - Math.round(50 * frac);\n\n      _.remove(viruses, () => {\n        return Math.random() < (toRemove / 50);\n      });\n    }\n\n    _.remove(viruses, (v) => {\n      return v.lat > 100;\n    });\n\n    for (const virus of viruses) {\n      virus.lat += 3;\n      virus.color.h = gsvToCoronaHSLObject(gsv).h\n    }\n\n    if (Math.random() < frac) {\n      let newVirus = {\n        id: this.state.nextVirusId,\n        color: gsvToCoronaHSLObject(gsv),\n        lat: 0,\n        lng: getRandomInt(110) - 5,\n        size: getRandomInt(Math.max(Math.round(20 * frac), 4)) + 1\n      }\n      viruses.push(newVirus)\n\n      this.setState({\n        viruses: viruses,\n        nextVirusId: newVirus.id + 1,\n        tick: this.state.tick + 1\n      });\n    } else {\n      this.setState({\n        viruses: viruses,\n        tick: this.state.tick + 1\n      });\n    }\n  }\n\n  renderVirusSVG(color) {\n    return (\n      <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.0\" width=\"900.000000pt\" height=\"900.000000pt\" viewBox=\"0 0 900.000000 900.000000\" preserveAspectRatio=\"xMidYMid meet\">\n        <g transform=\"translate(0.000000,900.000000) scale(0.100000,-0.100000)\" fill={`hsl(${color.h}, ${color.s}%, ${color.l}%)`} stroke=\"none\">\n          <path d=\"M3415 8604 c-123 -17 -336 -90 -504 -173 -172 -84 -241 -187 -197 -292 26 -61 86 -97 186 -109 172 -22 316 -172 374 -390 37 -140 49 -178 75 -247 33 -85 33 -86 -69 -128 -36 -15 -69 -31 -74 -36 -19 -18 -56 -10 -65 14 -14 36 -72 90 -119 111 -41 19 -45 19 -100 2 -140 -43 -271 -135 -312 -221 -20 -40 -21 -51 -11 -90 6 -24 11 -48 11 -54 0 -6 -33 -32 -72 -57 -40 -26 -84 -58 -98 -70 -99 -90 -126 -114 -135 -114 -13 0 -136 126 -189 193 -51 65 -98 134 -120 177 -20 39 -56 196 -56 242 0 17 -10 62 -21 100 -16 52 -32 81 -60 109 -36 36 -43 39 -97 39 -166 0 -457 -177 -565 -344 -71 -109 -85 -233 -36 -331 37 -73 63 -83 165 -62 113 23 204 22 252 -3 73 -40 382 -349 382 -383 0 -7 -15 -28 -33 -47 -63 -69 -134 -157 -212 -260 -43 -58 -81 -109 -85 -113 -9 -11 -56 10 -102 45 -49 38 -77 100 -88 194 -7 64 -13 82 -31 97 -57 46 -189 -14 -279 -126 -78 -96 -150 -268 -150 -356 0 -50 40 -107 81 -116 34 -8 121 0 183 17 45 11 108 -2 164 -35 29 -17 32 -23 26 -51 -3 -17 -12 -38 -20 -47 -8 -8 -14 -20 -14 -25 0 -8 -47 -112 -72 -158 -6 -11 -14 -31 -18 -45 -5 -14 -18 -51 -30 -81 -47 -122 -52 -136 -60 -170 -4 -19 -13 -48 -19 -65 -6 -16 -13 -42 -16 -56 -2 -15 -11 -29 -19 -32 -8 -3 -56 3 -107 14 -50 10 -104 19 -118 19 -39 0 -124 32 -162 62 -19 14 -41 41 -50 59 -9 19 -31 64 -49 101 -35 74 -75 108 -127 108 -58 0 -170 -102 -209 -190 -64 -144 -91 -349 -61 -461 23 -88 93 -149 169 -149 40 0 119 41 182 94 77 66 126 96 155 96 25 0 94 -21 129 -39 9 -5 36 -16 60 -25 99 -37 122 -50 122 -65 0 -9 -7 -65 -16 -125 -13 -88 -15 -164 -11 -400 3 -160 9 -308 13 -330 6 -37 6 -38 -17 -31 -13 5 -58 33 -99 64 -98 73 -125 88 -181 96 -127 19 -199 -50 -244 -233 -40 -166 24 -406 160 -596 103 -144 155 -178 218 -144 12 7 77 66 143 132 67 65 127 117 134 114 7 -2 25 -40 40 -83 15 -44 35 -100 44 -125 9 -25 21 -57 25 -71 5 -14 13 -34 18 -45 6 -10 17 -35 25 -54 9 -19 36 -77 62 -128 44 -90 54 -122 39 -122 -5 -1 -37 -28 -72 -60 -101 -93 -133 -106 -271 -102 -146 3 -202 -10 -241 -57 -39 -48 -44 -81 -23 -169 52 -223 259 -452 407 -452 81 0 147 71 187 203 12 39 29 90 38 112 33 84 140 225 170 225 10 -1 56 -53 105 -119 126 -169 313 -367 474 -504 40 -34 73 -67 73 -74 0 -6 -13 -32 -30 -56 -16 -25 -30 -48 -30 -53 0 -4 -9 -27 -21 -50 -31 -66 -73 -96 -162 -118 -92 -23 -133 -58 -161 -136 -22 -61 -18 -97 21 -176 28 -58 105 -132 163 -156 116 -49 224 -78 289 -78 49 0 112 20 140 44 31 27 61 92 61 135 0 18 -7 61 -17 95 -9 34 -16 100 -17 151 0 75 4 97 22 132 29 53 44 58 90 30 20 -13 44 -27 52 -30 8 -4 29 -16 45 -26 31 -20 275 -142 333 -167 18 -7 47 -20 65 -27 51 -23 110 -45 136 -53 13 -3 39 -13 58 -20 33 -14 33 -15 19 -43 -17 -31 -118 -128 -150 -142 -103 -46 -214 -138 -245 -203 -50 -109 -13 -167 193 -301 173 -112 284 -155 402 -155 153 0 261 56 337 174 29 46 31 56 32 141 0 104 -16 152 -75 225 -72 89 -109 163 -87 177 16 9 80 5 162 -11 83 -17 340 -36 480 -36 127 0 344 16 460 35 164 26 195 28 196 13 3 -37 -4 -87 -17 -117 -8 -18 -14 -40 -14 -47 0 -8 -13 -42 -29 -76 -54 -119 -60 -151 -39 -221 15 -49 88 -123 143 -145 87 -33 217 -26 350 19 17 6 44 15 60 19 85 24 212 86 256 126 19 16 50 49 69 74 34 43 35 46 35 135 -1 106 -18 147 -94 221 -41 41 -208 134 -240 134 -5 0 -13 4 -16 10 -6 10 16 22 195 96 115 48 139 60 280 137 109 59 246 147 394 252 26 19 52 35 56 35 15 0 134 -148 167 -207 46 -81 46 -162 2 -260 -25 -53 -32 -83 -33 -135 -1 -60 2 -70 30 -104 37 -46 113 -86 174 -92 54 -5 174 25 257 64 117 55 245 171 296 268 50 96 60 137 61 256 1 105 -1 118 -22 147 -12 17 -37 39 -55 48 -42 22 -159 55 -195 55 -43 0 -168 44 -213 76 -63 43 -149 136 -149 159 1 11 32 53 71 94 101 106 175 199 317 396 16 22 59 91 96 153 37 61 71 112 75 112 5 0 14 -7 21 -15 7 -8 16 -15 21 -15 31 0 214 -133 278 -203 47 -50 51 -57 91 -134 55 -107 126 -173 187 -173 79 0 253 78 320 145 56 55 131 258 154 418 10 72 10 98 -1 140 -21 81 -42 103 -114 117 -54 10 -68 9 -121 -10 -202 -70 -265 -74 -346 -20 -24 16 -62 42 -84 57 -51 34 -150 83 -168 83 -8 0 -22 9 -32 21 -17 18 -17 24 -6 52 7 18 18 49 23 70 6 21 24 50 41 65 98 86 124 127 151 234 15 61 15 69 0 115 -9 26 -25 59 -36 72 -16 21 -18 35 -13 95 10 117 25 209 37 223 18 22 237 17 323 -7 93 -26 143 -44 157 -58 7 -7 17 -12 23 -12 7 0 31 -14 53 -30 23 -17 45 -30 50 -30 4 0 13 -5 19 -11 7 -7 35 -20 63 -30 49 -17 52 -17 115 3 89 27 126 54 154 113 35 73 52 155 58 283 5 100 3 119 -17 172 -23 61 -56 104 -103 133 -38 25 -142 57 -182 57 -38 0 -101 -43 -168 -116 -30 -32 -68 -60 -100 -74 -47 -21 -61 -22 -152 -15 -55 4 -143 10 -195 14 l-95 6 -12 100 c-6 55 -15 143 -19 195 l-6 95 33 14 c42 18 106 76 127 115 77 142 70 340 -15 455 -72 98 -180 136 -267 95 -41 -20 -62 -14 -77 23 -12 29 -20 49 -64 148 -42 95 -68 146 -98 199 -36 63 -33 84 18 102 79 29 141 45 190 50 45 5 59 1 140 -42 89 -47 91 -47 185 -47 96 0 121 7 186 53 32 23 54 74 54 127 0 63 -23 202 -38 230 -7 12 -12 29 -12 38 0 20 -84 192 -105 215 -8 9 -15 20 -15 24 0 16 -151 205 -210 263 -82 80 -132 101 -206 83 -41 -10 -65 -24 -98 -57 -63 -62 -84 -109 -131 -293 -34 -130 -71 -200 -137 -252 -63 -51 -101 -64 -139 -48 -56 23 -88 122 -52 162 24 27 23 125 -2 164 -45 70 -154 167 -235 209 -33 17 -136 18 -171 2 -10 -5 -25 1 -43 18 -15 14 -72 59 -127 101 -54 41 -99 79 -99 84 0 8 56 97 101 162 10 15 19 29 19 32 0 10 99 151 127 181 67 72 160 125 221 125 43 1 107 35 136 72 70 92 -7 250 -189 389 -33 25 -67 49 -75 52 -8 4 -28 16 -45 27 -115 74 -241 119 -330 119 -130 0 -151 -53 -124 -311 6 -57 17 -120 25 -141 8 -20 14 -52 14 -70 0 -65 -70 -265 -120 -342 -10 -16 -29 -50 -42 -74 -12 -24 -28 -45 -34 -48 -6 -2 -38 9 -70 26 -33 16 -85 41 -117 55 l-57 27 6 69 c9 98 -8 153 -66 211 -69 69 -148 93 -307 93 -119 1 -122 0 -164 -29 -35 -25 -46 -41 -64 -95 l-22 -65 -74 3 c-123 6 -132 13 -118 107 5 33 14 125 18 205 15 225 45 364 93 420 7 9 42 38 78 65 73 55 90 74 108 124 21 60 -13 131 -83 169 -55 30 -148 42 -370 49 -209 5 -223 5 -266 -15 -57 -26 -97 -78 -105 -134 -10 -77 26 -123 118 -148 72 -20 117 -99 118 -205 0 -66 -17 -239 -35 -345 -8 -47 -17 -107 -20 -134 -3 -27 -12 -60 -21 -73 -13 -21 -21 -24 -72 -21 -55 3 -58 4 -74 40 -26 55 -78 78 -173 78 -45 0 -90 -6 -112 -15 -19 -8 -44 -15 -54 -15 -21 0 -89 -56 -89 -74 0 -35 -73 -63 -206 -81 -48 -6 -52 -5 -70 22 -28 42 -54 122 -54 168 0 22 -7 65 -15 95 -8 30 -15 72 -15 93 0 21 -8 52 -17 70 -12 24 -16 58 -16 142 0 108 1 111 45 210 80 180 82 286 6 348 -32 25 -45 29 -114 32 -44 2 -92 1 -109 -1z\" />\n        </g>\n      </svg>\n    );\n  }\n\n  renderViruses() {\n    let viruses = [];\n    for (const virus of this.state.viruses) {\n      const style = {\n        bottom: `${virus.lat}%`,\n        left: `${virus.lng}%`,\n        width: `${virus.size}px`,\n        transitionDuration: `${500}ms`\n      }\n      viruses.push(\n        <span className=\"Results-virus\" key={virus.id} style={style}>\n          {this.renderVirusSVG(virus.color)}\n        </span>\n      );\n    }\n    return viruses;\n  }\n\n  render() {\n    let gsv = this.props.gsv;\n    const heightPercent = `${100 * calculateLogFraction(gsv)}%`;\n    const color = gsvToColor(gsv);\n    return (\n      <div className=\"Results\">\n        <div className=\"Results-bar\" style={{height: heightPercent, backgroundColor: color}}>\n          <div className=\"Results-num\">\n            {getGsvText(gsv)}\n          </div>\n          {this.renderViruses()}\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { CSSTransitionGroup } from 'react-transition-group';\nimport _ from 'lodash';\nimport URI from 'urijs';\n\nimport Factor from './Factor.js';\nimport Results from './Results.js';\n\nimport { INITIAL_FACTORS, calculateGsv, getInputFromFactor } from '../util.js';\n\nimport logo from '../../assets/gsv-risk.svg';\n\nexport default class Main extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    const uri = new URI();\n    const qParams = uri.query(true);\n    let factors = INITIAL_FACTORS;\n\n    for (const factor of factors) {\n      if (uri.hasQuery(factor.id)) {\n        factor.input = qParams[factor.id];\n        factor.input = getInputFromFactor(factor);\n        if (factor.input === null) {\n          uri.removeQuery(factor.id);\n        }\n      }\n    }\n    window.history.replaceState(null, 'GSV Risk', uri.toString());\n\n    this.state = {\n      factors: factors\n    };\n  }\n\n  handleFactorInputChange(factor) {\n    let factors = _.cloneDeep(this.state.factors);\n    for (const curr of factors) {\n      if (curr.id === factor.id) {\n        const input = getInputFromFactor(factor);\n        curr.input = input;\n        if (factor.updateDefault && (input || input === 0)) {\n          curr.default = input;\n        }\n\n        let uri = new URI();\n        uri.removeQuery(curr.id);\n        if (curr.input || curr.input === 0) {\n          uri.addQuery(curr.id, encodeURIComponent(curr.input))\n        }\n        window.history.pushState(null, 'GSV Risk', uri.toString());\n\n        break;\n      }\n    }\n\n    this.setState({\n      factors: factors\n    })\n  }\n\n  renderFactors() {\n    let factors = [];\n    for (const factor of this.state.factors) {\n      factors.push(\n        <Factor factor={factor} key={factor.id} onFactorInputChange={(factor) => this.handleFactorInputChange(factor)} />\n      );\n      if (factor.input === null || factor.input === undefined) {\n        break;\n      }\n    }\n    return factors;\n  }\n\n  render() {\n    return (\n      <div className=\"Main\">\n        <header className=\"Main-header\">\n          <img className=\"Main-logo\" src={logo} alt=\"GSV Risk\" />\n          <h1 className=\"Main-title\">GSV Risk</h1>\n        </header>\n        <div className=\"Main-container l-container\">\n          <div className=\"Main-left\">\n            <CSSTransitionGroup\n              transitionName=\"example\"\n              transitionEnterTimeout={500}\n              transitionLeaveTimeout={300}>\n              {this.renderFactors()}\n            </CSSTransitionGroup>\n          </div>\n          <div className=\"Main-right\">\n            <Results gsv={calculateGsv(this.state.factors)} />\n          </div>\n        </div>\n        <footer className=\"Main-footer l-container\">\n          <div className=\"Main-disclaimer\">This is for entertainment purposes only. Pleeeeease continue to follow your local health agency's guidelines.</div>\n        </footer>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './js/polyfill.js';\nimport './default.scss';\n\nimport Main from './js/components/Main.js';\n\nReactDOM.render(<Main />, document.getElementById('root'));\n"],"sourceRoot":""}